PROJECT(rfwr)

SET(YARP_DIR "$ENV{YARP_ROOT}" CACHE LOCATION "where is yarp root?")
SET(ICUB_DIR "${PROJECT_SOURCE_DIR}/../../" CACHE LOCATION "where is icub root?")
SET(INSTALL_DIR "${CMAKE_SOURCE_DIR}")

FIND_PACKAGE(ICUB)
FIND_PACKAGE(YARP REQUIRED)
FIND_PACKAGE(YARPMATH REQUIRED)
INCLUDE_DIRECTORIES(${YARPMATH_INCLUDE_DIRS} ${PROJECT_SOURCE_DIR})
LINK_LIBRARIES(${YARPMATH_LIBRARIES})

FILE(GLOB folder_header *.h)
FILE(GLOB folder_source *.cpp)

SOURCE_GROUP("Source Files" FILES ${folder_source})
SOURCE_GROUP("Header Files" FILES ${folder_header})

ADD_LIBRARY(rfwr ${folder_source} ${folder_header})

ADD_EXECUTABLE(test_rfwr "example/main.cpp")
TARGET_LINK_LIBRARIES(test_rfwr rfwr)
TARGET_LINK_LIBRARIES(test_rfwr ${YARPMATH_LIBRARIES})

INSTALL(TARGETS rfwr DESTINATION "${INSTALL_DIR}/lib")

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR})

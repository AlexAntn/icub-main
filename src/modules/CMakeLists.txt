# Copyright: (C) 2010 RobotCub Consortium
# Authors: Lorenzo Natale
# CopyPolicy: Released under the terms of the GNU GPL v2.0.

add_subdirectory(ctpService)
add_subdirectory(demoGraspManager_IIT_ISR)
add_subdirectory(demoForceControl)
add_subdirectory(graspDetectorConf)
add_subdirectory(graspDetector)
add_subdirectory(learningMachine)
add_subdirectory(iCubDemoY3)
add_subdirectory(iKinArmCtrlIF)
add_subdirectory(iKinHead)
add_subdirectory(logpolarRemapper)
add_subdirectory(logpolarTransform)
add_subdirectory(torqueObserver)
add_subdirectory(velocityControl)
add_subdirectory(velocityObserver)
add_subdirectory(wholeBodyTorqueObserver)
add_subdirectory(gravityCompensator)
add_subdirectory(wrenchObserver)
add_subdirectory(eye2world)
add_subdirectory(vergence)
add_subdirectory(skinDriftCompensation)
add_subdirectory(objectsPropertiesCollector)

if(ICUB_USE_OpenCV)
    add_subdirectory(motionCUT)    
    add_subdirectory(salience)
    add_subdirectory(camCalibConf)
    add_subdirectory(camExtrinsicsCalib)
    add_subdirectory(camCalib)
    add_subdirectory(pf3dTracker)
# temporarely removed from build waiting to understand the version of opencv it requires
#   add_subdirectory(pf3dBottomup)

    if(ICUB_OpenCV_LEGACY)
		message(STATUS "OpenCV legacy detected, skipping faceTracker")
	else(ICUB_OpenCV_LEGACY)
		add_subdirectory(faceTracker)
	endif(ICUB_OpenCV_LEGACY)
else(ICUB_USE_OpenCV)
    message(STATUS "OpenCV not found/selected, skipping motionCUT")
    message(STATUS "OpenCV not found/selected, skipping faceTracker")
    message(STATUS "OpenCV not found/selected, skipping salience")
    message(STATUS "OpenCV not found/selected, skipping camCalibConf")
    message(STATUS "OpenCV not found/selected, skipping camExtrinsicsCalib")
    message(STATUS "OpenCV not found/selected, skipping camCalib")
    message(STATUS "OpenCV not found/selected, skipping pf3dTracker")
    message(STATUS "OpenCV not found/selected, skipping pf3dBottomup")
endif(ICUB_USE_OpenCV)

if(ICUB_USE_IPOPT)
    add_subdirectory(iKinArmCtrl)
    add_subdirectory(iKinGazeCtrl)
    add_subdirectory(iKinCartesianSolver)
else(ICUB_USE_IPOPT)
    message(STATUS "IPOPT not found/selected, skipping iKinArmCtrl")
    message(STATUS "IPOPT not found/selected, skipping iKinGazeCtrl")
    message(STATUS "IPOPT not found/selected, skipping iKinCartesianSolver")
endif(ICUB_USE_IPOPT)


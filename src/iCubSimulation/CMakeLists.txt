SET(PROJECTNAME iCub_SIM)
PROJECT(${PROJECTNAME})

SET(USE_ODE_DOUBLE TRUE CACHE BOOL "Select false if compiled ODE in single precision")

FIND_PACKAGE(ICUB)
FIND_PACKAGE(YARP)
FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(ODE REQUIRED)
FIND_PACKAGE(SDL REQUIRED)

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR})
INCLUDE_DIRECTORIES(${ODE_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${SDL_INCLUDE_DIR})
LINK_LIBRARIES(${SDL_LIBRARY})
LINK_LIBRARIES(${ODE_LIBRARIES})

FILE(GLOB folder_source *.cpp)
FILE(GLOB folder_header *.h)

IF (USE_ODE_DOUBLE)
  ADD_DEFINITIONS(-DdDOUBLE)
ENDIF (USE_ODE_DOUBLE)

# If glut is set up, we can turn this on
ADD_DEFINITIONS(-DUSE_GLUT)

# Using the new configuration method right from the start
ADD_DEFINITIONS(-DEXPERIMENTAL_CONFIG_METHOD)

ADD_EXECUTABLE(${PROJECTNAME} ${folder_source} ${folder_header})

INSTALL(TARGETS ${PROJECTNAME} RUNTIME DESTINATION bin)

# added files, touching CMakeLists.txt so GLOB is rerun

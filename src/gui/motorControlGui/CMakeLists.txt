SET(PROJECTNAME motorControlGui)

PROJECT(${PROJECTNAME})

FIND_PACKAGE(YARP REQUIRED)
FIND_PACKAGE(ICUB QUIET)
FIND_PACKAGE(GtkMM REQUIRED)

IF (NOT ICUB_FOUND)
   MESSAGE (STATUS "ICUB repository not found; assuming distributed build.")
   MESSAGE (STATUS "If this is not what you want, set ICUB_DIR variable.")
ENDIF (NOT ICUB_FOUND)

ADD_DEFINITIONS(${GTKMM_C_FLAGS})
LINK_LIBRARIES(${GTKMM_LINK_FLAGS})
INCLUDE_DIRECTORIES(${GTKMM_INCLUDE_DIR})

FILE(GLOB folder_source *.cpp)
FILE(GLOB folder_header *.h include/*.h)
SOURCE_GROUP("Source Files" FILES ${folder_source})
SOURCE_GROUP("Header Files" FILES ${folder_header})

ADD_EXECUTABLE(${PROJECTNAME} ${folder_source} ${folder_header})
INSTALL (TARGETS ${PROJECTNAME} RUNTIME DESTINATION bin)
INSTALL (FILES yarpmotorcontrol.glade DESTINATION bin)
#CONFIGURE_FILE(${PROJECT_SOURCE_DIR}/yarpmotorcontrol.glade
#               ${EXECUTABLE_OUTPUT_PATH}/yarpmotorcontrol.glade 
#	       @ONLY IMMEDIATE)

TARGET_LINK_LIBRARIES(${PROJECTNAME} ${GTKMM_LINK_FLAGS})

IF(WIN32 AND NOT CYGWIN)
    SET_TARGET_PROPERTIES(${PROJECTNAME} PROPERTIES COMPILE_FLAGS /wd4250)
ENDIF(WIN32 AND NOT CYGWIN)

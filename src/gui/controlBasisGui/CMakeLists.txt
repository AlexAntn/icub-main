#/*
# * Copyright (C) 2009 Stephen Hart. All rights reserved.
# * 
# */
cmake_minimum_required(VERSION 2.6)

SET(PROJECTNAME controlBasisGui)
PROJECT(${PROJECTNAME})

FIND_PACKAGE(YARP REQUIRED)
FIND_PACKAGE(ICUB QUIET)
FIND_PACKAGE(GtkMM REQUIRED)

IF (NOT ICUB_FOUND)
   MESSAGE (STATUS "ICUB repository not found; assuming distributed build.")
   MESSAGE (STATUS "If this is not what you want, set ICUB_DIR variable.")
ENDIF (NOT ICUB_FOUND)

FIND_PACKAGE(IKIN REQUIRED)
FIND_PACKAGE(CONTROLBASIS REQUIRED)

ADD_DEFINITIONS(${GTKMM_C_FLAGS})
LINK_LIBRARIES(
  ${GTKMM_LINK_FLAGS} 
  ${IKIN_LINK_FLAGS} 
  ${CONTROLBASIS_LIBRARIES})

INCLUDE_DIRECTORIES(
  ${IKIN_INCLUDE_DIRS}
  ${GTKMM_INCLUDE_DIR}
  ${CONTROLBASIS_DIR}/include
  ${CONTROLBASIS_DIR}/resources
  ${CONTROLBASIS_DIR}/potentialFunctions
  ${CONTROLBASIS_DIR}/jacobians
  ${CONTROLBASIS_DIR}/control
  ${CONTROLBASIS_DIR}/util/kinematics
  )

ADD_EXECUTABLE(${PROJECTNAME} 
  CBAPIHelper.cpp
  CBAPIUtil.cpp
  controlBasisGui.cpp
  CBAPIHelper.h
  CBAPIUtil.h
  ControlDataThread.h
  controlBasisGui.h
)

ADD_EXECUTABLE(referenceGui
  referenceGui.cpp
  referenceGui.h
)

TARGET_LINK_LIBRARIES(${PROJECTNAME} ${GTKMM_LINK_FLAGS} ${IKIN_LIBRARIES})
TARGET_LINK_LIBRARIES(referenceGui ${GTKMM_LINK_FLAGS} ${IKIN_LIBRARIES})

INSTALL (TARGETS ${PROJECTNAME} RUNTIME DESTINATION bin)

IF(WIN32 AND NOT CYGWIN)
    SET_TARGET_PROPERTIES(${PROJECTNAME} PROPERTIES COMPILE_FLAGS /wd4250)
ENDIF(WIN32 AND NOT CYGWIN)




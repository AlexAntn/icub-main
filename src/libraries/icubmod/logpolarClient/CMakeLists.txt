IF (COMPILE_DEVICE_LIBRARY)
  PREPARE_DEVICE(logpolarclient TYPE ClientLogpolarFrameGrabber
    INCLUDE yarp/dev/ClientLogpolarFrameGrabber.h)
ENDIF (COMPILE_DEVICE_LIBRARY)

IF(NOT SKIP_logpolarclient)
  FIND_PACKAGE(YARP REQUIRED)
  FIND_PACKAGE(ICUB)
  FIND_PACKAGE(LOGPOLAR REQUIRED)
  FIND_PACKAGE(ICUBDEV REQUIRED)


  INCLUDE_DIRECTORIES(${LOGPOLAR_INCLUDE_DIRS})
  INCLUDE_DIRECTORIES(${ICUBDEV_INCLUDE_DIRS})
  INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/logpolarGrabber)

  ADD_LIBRARY(logpolarclient ClientLogpolarFrameGrabber.cpp)

  TARGET_LINK_LIBRARIES(logpolarclient ${LOGPOLAR_LIBRARIES})
  TARGET_LINK_LIBRARIES(logpolarclient ${ICUBDEV_LIBRARIES})
ENDIF(NOT SKIP_logpolarclient)


SET(USE_ODE_DOUBLE TRUE CACHE BOOL "Select false if compiled ODE in single precision")

FIND_PACKAGE(ICUB)
FIND_PACKAGE(YARP)
FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(ODE REQUIRED)
FIND_PACKAGE(SDL REQUIRED)

INCLUDE_DIRECTORIES(${ODE_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${SDL_INCLUDE_DIR}
  ${PROJECT_SOURCE_DIR}/objRec
  ${PROJECT_SOURCE_DIR}/objMan
)
LINK_LIBRARIES(${SDL_LIBRARY})
LINK_LIBRARIES(${ODE_LIBRARIES})

IF (USE_ODE_DOUBLE)
  ADD_DEFINITIONS(-DdDOUBLE)
ENDIF (USE_ODE_DOUBLE)

ADD_DEFINITIONS(-DUSE_GLUT)
ADD_DEFINITIONS(-DEXPERIMENTAL_CONFIG_METHOD)


FILE(GLOB folder_source *.cpp)
FILE(GLOB folder_header *.h)
ADD_EXECUTABLE(iCub_SIM_objMan ${folder_source} ${folder_header})

# install targets
INSTALL_TARGETS(${BIN_DIR} iCub_SIM_objMan )


PROJECT(dsreaching)



SET(YARP_DIR_HARDCODED "/opt/yarp-2.1.5/")
FIND_PATH(with_yarp YARPConfig.cmake ${YARP_DIR_HARDCODED})


IF(NOT with_yarp-NOTFOUND)
FIND_PACKAGE(YARP)
ENDIF(NOT with_yarp-NOTFOUND)

FIND_PACKAGE(YARP) 


ENDIF(NOT with_yarp-NOTFOUND)

INCLUDE_DIRECTORIES(include)


IF (WIN32 AND NOT CYGWIN)
  ADD_DEFINITIONS(-DWIN32 -D_WINDOWS)
ENDIF (WIN32 AND NOT CYGWIN)

IF(WIN32 AND CYGWIN)
  ADD_DEFINITIONS(-DCYGWIN)
ENDIF(WIN32 AND CYGWIN)


SET(CMAKE_VERBOSE_MAKEFILE ON)
SET(CMAKE_EXE_LINKER_FLAGS "-lstdc++ -lm")


## one must check that YARP_COMM is consistent across paltforms
#IF(YARP_FOUND)
#SET(CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS})
#ENDIF(YARP_FOUND)






INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR})



SET (DSREACHING_SOURCES
	src/mathlib.cpp 
	src/Reaching.cpp 
	src/BodySchema.cpp
	src/Timer.cpp
	src/dsReaching.cpp
)


IF (NOT WIN32)
   LINK_LIBRARIES(ncurses)
ENDIF (NOT WIN32)

#IF(OpenGL_FOUND)
#ADD_EXECUTABLE(yarp_arm_ctl ${REACHING_SOURCES})

SET(CMAKE_CXX_FLAGS "-O3 -pedantic -Wall -g")

ADD_DEFINITIONS(-DLIGHT_VERSION -DBODY_SCHEMA -DICUB) 

ADD_EXECUTABLE(dsReaching ${DSREACHING_SOURCES})

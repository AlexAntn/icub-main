<application>
<name>Manage supporting IHA processes</name>
<dependencies>
      <port>/icub02</port>
</dependencies>
<module>
      <name>yarpdev</name>
      <parameters>--name /icub/face/raw --device serial --subdevice serialport --file /usr/local/src/robot/iCub/app/faceExpressions/conf/serialport.ini</parameters>
	  <node>pc104</node>
	<tag>face_device</tag>
   </module>
<module>
  <name>yarpdev</name>
  <parameters>--device sound_grabber --subdevice portaudio --name /iha/sound_grabber --read</parameters>
  <node>icub3</node>
  <tag>pa</tag>
</module>
<!-- The following device must run on kaspar2. It's the video driver for the gaze tracker (and contains dvgrab source code) and not a part of the general yarp release -->
<module>
  <name>yarpdev</name>
  <!--framerate for NTSC vcr, if using PAL, set to 25-->
  <parameters>--device dv_grabber --name /iha/gdv --framerate 30</parameters>
  <node>kaspar2</node>
  <tag>dv</tag>
</module>
<!-- The following program must run on kaspar2. It's the coordinate driver for the gaze tracker (and contains propriety ASL source code) and not a part of the general yarp release. -->
<module>
  <name>mobileEyeCoordServer</name>
  <parameters> --name /iha/mobeyeserver</parameters>
  <node>kaspar2</node>
  <stdio>icub15</stdio>
  <tag>mcs</tag>
</module>
<module>
  <name>ihaNewSoundSensor</name>
  <parameters>--name /iha/sound --file /usr/local/src/robot/iCub/app/ihaNew/conf/ihaSoundSensor.ini</parameters>
  <node>icub3</node>
  <stdio>icub15</stdio>
  <tag>soundserver</tag>
</module>
<module>
  <name>ihaNewAudioAnalyzer</name>
  <parameters>--name /iha/beat --file /usr/local/src/robot/iCub/app/ihaNew/conf/ihaAudioAnalyser.ini</parameters>
  <node>icub3</node>
  <stdio>icub15</stdio>
  <tag>audioanalyser</tag>
</module>
<module>
  <name>ihaNewIhaFaceDetect</name>
  <parameters>--name /iha/fd --file /usr/local/src/robot/iCub/app/ihaNew/conf/ihaFaceDetect.ini</parameters>
  <node>icub11</node>
  <stdio>icub15</stdio>
  <tag>facedetect</tag>
</module>
<module>
  <name>ihaNewIhaFaceDetect</name>
  <parameters>--name /iha/sfd --file /usr/local/src/robot/iCub/app/ihaNew/conf/ihaSelfFaceDetect.ini --output_image FALSE</parameters>
  <node>icub10</node>
  <stdio>icub15</stdio>
  <tag>selffacedetect</tag>
</module>
<module>
  <name>ihaNewMobileEye</name>
  <parameters>--name /iha/me --file /usr/local/src/robot/iCub/app/ihaNew/conf/ihaMobileEye.ini --NTSC</parameters>
  <node>icub10</node>
  <stdio>icub15</stdio>
  <tag>mobileeye</tag>
</module>
<module>
  <name>yarpview</name>
  <parameters>--name /view/facedetect --x 0 --y 10 --synch</parameters>
  <node>icub15</node>
  <tag>viewfd</tag>
</module>
<module>
  <name>yarpview</name>
  <parameters>--name /view/gaze --x 0 --y 10 --synch</parameters>
  <node>icub15</node>
  <tag>viewgaze</tag>
</module>
<connection>
  <output>/iha/sound_grabber</output>
  <input>/iha/sound/sndsensor:in</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/sound_grabber</output>
  <input>/iha/beat/sndsensor:in</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/icub/cam/left</output>
  <input>/iha/fd/facedetect:in</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/fd/facedetect:out</output>
  <input>/view/facedetect</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/gdv</output>
  <input>/iha/sfd/facedetect:in</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/me/mobileeye:out</output>
  <input>/view/gaze</input>
  <protocol>udp</protocol>
</connection>
<connection>
  <output>/iha/gdv</output>
  <input>/iha/me/mobileeye:in</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/mobeyeserver</output>
  <input>/iha/me/mobileeye:gaze</input>
  <protocol>tcp</protocol>
</connection>
<connection>
  <output>/iha/sfd/facedetect:coords</output>
  <input>/iha/me/mobileeye:face</input>
  <protocol>tcp</protocol>
</connection>
</application>

